@import "tailwindcss/preflight";
@import "tailwindcss/utilities";
@import "tailwindcss";

:root {
  /* Cosmic Latte パレット */
  --cosmic-latte: #fff8e7;
  --cosmic-cream: #fef3d9;
  --cosmic-beige: #f5e6cb;
  --cosmic-tan: #ddc9a3;
  --cosmic-brown: #8b7355;
  --cosmic-dark: #5c4d3c;
  --cosmic-darker: #3d2f24;

  /* アクセントカラー */
  --accent-gold: #d4a574;
  --accent-amber: #e8b86d;
  --accent-rust: #b87333;

  --header-offset: 120px; /* 上段+下段+サブメニューの最大高さ想定 */
} 

[id]{
  scroll-margin-top: var(--header-offset);
}

html,
body {
  height: 100%;
}

body {
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
    "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", "Meiryo", sans-serif;
}

.nb-noise {
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.06;
  background-image: url("/noise.png");
  background-repeat: repeat;
  animation: nbNoise 10s steps(10) infinite;
  mix-blend-mode: multiply;
}

@keyframes nbNoise {
  0% { transform: translate3d(0,0,0); }
  100% { transform: translate3d(-2%, -2%, 0); }
}


/* Intro Overlay */
.nb-intro{
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: var(--cosmic-latte);
  display: grid;
  place-items: center;
  overflow: hidden;
}

.nb-intro__content{
  position: relative;
  z-index: 2;
  text-align: center;
  color: var(--orbital-steel);
}

.nb-intro__copy{
  font-size: clamp(20px, 3vw, 34px);
  letter-spacing: 0.06em;
  margin: 0 0 10px;
}

.nb-intro__hint{
  font-size: 12px;
  letter-spacing: 0.28em;
  opacity: 0.7;
}

/* 周辺減光（宇宙っぽい“静けさ”を足す。背景色は変えない） */
.nb-intro__veil{
  position: absolute;
  inset: -20%;
  background:
    radial-gradient(closest-side, rgba(47,58,69,0.00) 40%, rgba(47,58,69,0.10) 75%, rgba(47,58,69,0.18) 100%);
  opacity: 0;
  animation: nbFadeIn 520ms ease forwards;
}

/* “宇宙にフォーカスしていく” = 円形のマスクが締まる */
.nb-intro__focus{
  position: absolute;
  inset: 0;
  background: var(--cosmic-latte);
  -webkit-mask-image: radial-gradient(circle at 50% 45%, #000 0%, #000 52%, transparent 60%);
  mask-image: radial-gradient(circle at 50% 45%, #000 0%, #000 52%, transparent 60%);
  animation: nbFocus 1400ms ease forwards;
  opacity: 1;
}

/* 終了時：すっと消える */
.nb-intro.is-closing{
  animation: nbOut 420ms ease forwards;
}

@keyframes nbFadeIn{
  to { opacity: 1; }
}

@keyframes nbFocus{
  0%{
    -webkit-mask-image: radial-gradient(circle at 50% 45%, #000 0%, #000 72%, transparent 80%);
    mask-image: radial-gradient(circle at 50% 45%, #000 0%, #000 72%, transparent 80%);
  }
  100%{
    -webkit-mask-image: radial-gradient(circle at 50% 45%, #000 0%, #000 6%, transparent 14%);
    mask-image: radial-gradient(circle at 50% 45%, #000 0%, #000 6%, transparent 14%);
  }
}

@keyframes nbOut{
  to { opacity: 0; pointer-events: none; }
}

/* 動きが苦手な人向け */
@media (prefers-reduced-motion: reduce){
  .nb-intro__veil,
  .nb-intro__focus,
  .nb-intro.is-closing{
    animation: none !important;
  }
}

/* Mobile Nav Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.mobile-nav-item {
  animation: fadeInUp 0.3s ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
  .mobile-nav-item {
    animation: none;
  }
}